<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>NexEra</title>

    <!-- MODE CLASS (runs BEFORE CSS so there is no flash/glitch) -->
    <script>
      (function () {
        const mode = new URLSearchParams(location.search).get("mode") || "";
        const root = document.documentElement;
        root.classList.remove("mode-landing", "mode-asset", "mode-avatar");
        if (!mode) root.classList.add("mode-landing");
        else if (mode === "avatar") root.classList.add("mode-avatar");
        else root.classList.add("mode-asset");
      })();
    </script>

    <style>
      :root{
        --bg:#0b0f1a;

        /* premium panel */
        --panel:rgba(12,16,28,0.82);
        --panel2:rgba(255,255,255,0.06);

        --border:rgba(255,255,255,0.12);
        --border2:rgba(255,255,255,0.18);

        --text:rgba(255,255,255,0.96);
        --muted:rgba(255,255,255,0.74);
        --muted2:rgba(255,255,255,0.60);

        --accent:#3b82f6;
        --accent2:rgba(59,130,246,0.18);

        --shadow:0 22px 60px rgba(0,0,0,0.60);
        --radius:16px;
      }

      html,body{
        height:100%;
        margin:0;
        background:var(--bg);
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial;
        color:var(--text);
        overflow:hidden;
      }

      #app{ position:fixed; inset:0; overflow:hidden; }

      /* ------------------------- MODE VISIBILITY RULES ------------------------- */
      /* Landing shows ONLY landing */
      html.mode-landing #ui,
      html.mode-landing #toast,
      html.mode-landing #nxAvatarPanel { display:none !important; }
      html.mode-landing #nxLanding { display:block; }

      /* Avatar shows ONLY avatar panel + 3D canvas */
      html.mode-avatar #ui,
      html.mode-avatar #toast { display:none !important; }
      html.mode-avatar #nxLanding { display:none !important; }

      /* Asset shows ONLY prototype 1 UI + 3D canvas */
      html.mode-asset #nxLanding { display:none !important; }
      html.mode-asset #nxAvatarPanel { display:none !important; }
      /* ---------------------------------------------------------------------- */

      /* Panel (Prototype 1 UI) */
      #ui{
        position:fixed;
        top:18px; left:18px;
        width:min(620px, calc(100vw - 36px));
        background:var(--panel);
        border:1px solid rgba(255,255,255,0.10);
        border-radius:var(--radius);
        box-shadow:var(--shadow);
        padding:16px;
        z-index:10;
        backdrop-filter: blur(14px);
        -webkit-backdrop-filter: blur(14px);
      }

      /* Three canvas must sit behind UI */
      #app { pointer-events: auto; }



      /* UI panels must be above the canvas */
      #ui, #nxAvatarPanel {
        position: fixed;
        z-index: 999;
        pointer-events: auto;
      }

      #app, #nxLanding3D { position: fixed; inset: 0; z-index: 0; }
      #app canvas, #nxLanding3D canvas { position: fixed; inset: 0; z-index: 0; }

      /* Just to be safe: canvas stays behind */
      #app canvas {
        position: fixed !important;
        inset: 0 !important;
        z-index: 0 !important;
      }


      /* Header */
      #headerRow{
        display:flex;
        align-items:center;
        justify-content:space-between;
        gap:12px;
      }

      #title{
        display:flex;
        align-items:center;
        gap:10px;
        font-weight:900;
        font-size:14px;
        letter-spacing:0.2px;
      }

      .titleSub{
        font-weight:750;
        opacity:0.92;
      }

      /* badge */
      #badge{
        font-size:11px;
        padding:4px 9px;
        border-radius:999px;
        background:var(--accent2);
        border:1px solid rgba(59,130,246,0.35);
        color:rgba(220,235,255,0.98);
        user-select:none;
      }

      /* top buttons */
      #headerActions{
        display:flex;
        gap:8px;
        align-items:center;
      }

      button{
        padding:10px 12px;
        border-radius:12px;
        border:1px solid rgba(255,255,255,0.16);
        background:rgba(255,255,255,0.10);
        color:rgba(255,255,255,0.95);
        font-weight:850;
        cursor:pointer;
        transition: transform 120ms ease, background 120ms ease, border-color 120ms ease, opacity 120ms ease;
      }
      button:hover{
        transform: translateY(-1px);
        background: rgba(255,255,255,0.14);
        border-color: rgba(255,255,255,0.24);
      }
      button:active{ transform: translateY(0px); }
      button:disabled{ opacity:.6; cursor:not-allowed; transform:none; }

      button.primary{
        background:rgba(59,130,246,0.95);
        border-color:rgba(59,130,246,0.55);
        color:#fff;
      }
      button.primary:hover{
        background:rgba(59,130,246,0.88);
        border-color:rgba(59,130,246,0.75);
      }

      button.secondary{
        background:rgba(255,255,255,0.10);
      }

      /* Hint copy */
      #hint{
        margin-top:12px;
        padding:10px 12px;
        border-radius:14px;
        border:1px solid rgba(255,255,255,0.10);
        background:rgba(255,255,255,0.06);
        font-size:12.5px;
        line-height:1.5;
        color:var(--muted);
      }
      #hint b{ color:#fff; }

      /* Chips */
      #chips{
        display:flex;
        gap:8px;
        flex-wrap:wrap;
        margin-top:12px;
      }

      .chip{
        appearance:none;
        border:1px solid rgba(255,255,255,0.14);
        background:rgba(255,255,255,0.08);
        color:rgba(255,255,255,0.92);
        border-radius:999px;
        padding:8px 11px;
        font-size:11.5px;
        cursor:pointer;
        transition: transform 120ms ease, background 120ms ease, border-color 120ms ease;
        user-select:none;
      }
      .chip:hover{
        transform: translateY(-1px);
        background: rgba(255,255,255,0.12);
        border-color: rgba(255,255,255,0.22);
      }

      

      /* Input row */
      #row{
        display:flex;
        gap:10px;
        margin-top:14px;
        align-items:center;
      }

      input{
        flex:1;
        padding:12px 12px;
        border-radius:12px;
        border:1px solid rgba(255,255,255,0.16);
        background:rgba(255,255,255,0.07);
        color:#fff;
        outline:none;
        font-size:13.5px;
      }
      input::placeholder{ color: rgba(255,255,255,0.55); }
      input:focus{
        border-color: rgba(59,130,246,0.75);
        box-shadow: 0 0 0 4px rgba(59,130,246,0.18);
      }

      /* Tools */
      #tools{
        display:flex;
        gap:10px;
        flex-wrap:wrap;
        margin-top:12px;
        align-items:center;
      }

      label{
        display:flex;
        align-items:center;
        gap:8px;
        font-size:12px;
        padding:10px 12px;
        border-radius:12px;
        border:1px solid rgba(255,255,255,0.12);
        background:rgba(255,255,255,0.06);
        color:rgba(255,255,255,0.90);
        user-select:none;
      }
      label input{ accent-color: var(--accent); }

      /* Status + progress */
      #status{
        margin-top:12px;
        font-size:12.5px;
        color:var(--muted);
        display:flex;
        align-items:center;
        gap:8px;
      }

      .statusDot{
        width:10px; height:10px;
        border-radius:999px;
        background:rgba(34,197,94,0.95);
        box-shadow: 0 0 0 4px rgba(34,197,94,0.14);
        flex:0 0 auto;
      }
      .statusDot.busy{
        background:rgba(59,130,246,0.95);
        box-shadow: 0 0 0 4px rgba(59,130,246,0.16);
      }
      .statusDot.err{
        background:rgba(239,68,68,0.95);
        box-shadow: 0 0 0 4px rgba(239,68,68,0.16);
      }

      #progressWrap{
        margin-top:10px;
        height:10px;
        border-radius:999px;
        background:rgba(255,255,255,0.10);
        border:1px solid rgba(255,255,255,0.12);
        overflow:hidden;
        position:relative;
      }
      #progressWrap.hidden{ display:none; }

      #progressFill{
        height:100%;
        width:0%;
        background:rgba(255,255,255,0.92);
        border-radius:999px;
        transition:width 140ms linear;
      }

      #progressWrap.generating::after{
        content:"";
        position:absolute;
        inset:0;
        background:linear-gradient(90deg, transparent, rgba(255,255,255,0.22), transparent);
        transform:translateX(-100%);
        animation:shimmer 1.05s infinite;
      }
      @keyframes shimmer{
        0%{transform:translateX(-100%)}
        100%{transform:translateX(100%)}
      }

      /* Dev JSON */
      #json{
        margin-top:12px;
        font-family: ui-monospace, Menlo, Consolas, monospace;
        font-size:12px;
        background:rgba(255,255,255,0.06);
        border:1px solid rgba(255,255,255,0.12);
        border-radius:12px;
        padding:12px;
        max-height:220px;
        overflow:auto;
        white-space:pre-wrap;
        display:none;
        color:rgba(255,255,255,0.92);
      }

      /* Toast */
      #toast{
        position:fixed;
        right:18px; bottom:18px;
        max-width:min(460px, calc(100vw - 36px));
        background:rgba(10,12,18,0.78);
        border:1px solid rgba(255,255,255,0.12);
        padding:12px 14px;
        border-radius:14px;
        box-shadow:0 14px 36px rgba(0,0,0,0.45);
        opacity:0;
        transform:translateY(8px);
        pointer-events:none;
        transition:opacity 160ms ease, transform 160ms ease;
        font-size:12.5px;
        line-height:1.35;
        z-index:99;
        color:rgba(255,255,255,0.92);
      }
      #toast.show{ opacity:1; transform:translateY(0); }

      /* Responsive */
      @media (max-width: 520px){
        #ui{
          top:auto;
          bottom:18px;
          left:18px;
          right:18px;
          width:auto;
        }
        #row{ flex-direction:column; align-items:stretch; }
        #headerActions button{ padding:10px 10px; }
      }

      /* ------------------------- LANDING (PREMIUM) ------------------------- */
      #nxLanding{
        position: fixed;
        inset: 0;
        z-index: 20;
        display: none; /* enabled by mode-landing */
      }

      #nxLanding3D{
        position:absolute;
        inset:0;
        z-index:0;
        pointer-events:none; /* keeps UI feeling responsive */
        transform: translateZ(0); /* helps compositing on some GPUs */
      }

      /* CRITICAL: make the canvas fill (fixes "rarely shows") */
      #nxLanding3D canvas{
        position:absolute !important;
        inset:0 !important;
        width:100% !important;
        height:100% !important;
        display:block !important;
      }

      #nxLandingOverlay{
        position:absolute;
        inset:0;
        z-index:1;
        pointer-events:none;
        /* slightly lighter so the 3D hero isn't suffocated */
        background:
          radial-gradient(1000px 600px at 35% 30%, rgba(59,130,246,0.12), transparent 65%),
          radial-gradient(900px 600px at 75% 40%, rgba(168,85,247,0.12), transparent 65%),
          linear-gradient(180deg, rgba(0,0,0,0.06), rgba(0,0,0,0.56));
      }

      /* Topbar */
      #nxTopbar{
        position:absolute;
        top:16px;
        left:50%;
        transform: translateX(-50%);
        width: min(1150px, calc(100vw - 36px));
        z-index: 3;
        display:flex;
        align-items:center;
        justify-content:space-between;
        padding: 12px 14px;
        border-radius: 22px;
        background: rgba(10,12,18,0.56);
        border: 1px solid rgba(255,255,255,0.10);
        box-shadow: 0 18px 58px rgba(0,0,0,0.62);
        backdrop-filter: blur(18px);
        -webkit-backdrop-filter: blur(18px);
      }

      /* Logo */
      #nxLogo{
        display:flex;
        align-items:center;
        gap:12px;
        user-select:none;
      }

      #nxLogoMark{
        width: 16px; height:16px;
        border-radius: 999px;

        /* stronger + higher contrast */
        background: conic-gradient(
          from 210deg,
          #00ff85,
          #00d4ff,
          #7c3aed,
          #ff2bd6,
          #00ff85
        );

        /* make it pop on dark + bright backgrounds */
        border: 1px solid rgba(255,255,255,0.55);
        box-shadow:
          0 0 0 6px rgba(0,0,0,0.35),
          0 0 0 8px rgba(255,255,255,0.10),
          0 0 38px rgba(0,212,255,0.40),
          0 0 48px rgba(255,43,214,0.22);
        flex:0 0 auto;
      }


      #nxLogoText{
      position: relative;

      /* Ã¢â‚¬Å“Disney-ishÃ¢â‚¬ vibe stays, but clearer */
      font-family: "Segoe Script","Brush Script MT","Comic Sans MS",cursive;
      font-size: 52px;
      font-weight: 900;
      letter-spacing: -0.03em;
      line-height: 1;
      transform: skewX(-10deg);

      /* brighter gradient */
      background: linear-gradient(
        90deg,
        #00ff85 0%,
        #00d4ff 35%,
        #7c3aed 70%,
        #ff2bd6 100%
      );
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;

      /* visibility boosters */
      -webkit-text-stroke: 1px rgba(0,0,0,0.65);  /* crisp edge */
      text-shadow:
        0 2px 0 rgba(0,0,0,0.55),
        0 10px 24px rgba(0,0,0,0.70),
        0 0 26px rgba(0,212,255,0.35),
        0 0 32px rgba(255,43,214,0.22);
    }

      #nxLogoText::before{
        content: attr(data-text);
        position:absolute;
        inset:0;
        color: rgba(0,0,0,0.85);
        transform: translate(3px, 3px);
        z-index:-1;
        filter: blur(0.6px);
      }


      /* NAV (only once) */
      #nxNav{
        display:flex;
        gap:10px;
        align-items:center;
      }
      #nxNav .nxBtn{
        padding: 11px 16px;
        border-radius: 16px;
        border: 1px solid rgba(255,255,255,0.14);
        background: rgba(255,255,255,0.08);
        color: rgba(255,255,255,0.95);
        font-weight: 950;
        cursor:pointer;
        transition: transform 120ms ease, background 120ms ease, border-color 120ms ease;
      }
      #nxNav .nxBtn:hover{
        transform: translateY(-1px);
        background: rgba(255,255,255,0.12);
        border-color: rgba(255,255,255,0.22);
      }
      #nxNav .nxBtn.primary{
        background: rgba(59,130,246,0.92);
        border-color: rgba(59,130,246,0.78);
      }
      #nxNav .nxBtn.primary:hover{
        background: rgba(59,130,246,0.86);
        border-color: rgba(59,130,246,0.90);
      }

      /* HERO */
      #nxHero{
        position:absolute;
        left:50%;
        top: 54%;
        transform: translate(-50%, -50%);
        width: min(1150px, calc(100vw - 36px));
        z-index: 3;
        display:grid;
        grid-template-columns: 1.2fr 0.8fr;
        gap: 16px;
        align-items: center;
      }

      #nxHeroMain{
        padding: 18px 18px;
        border-radius: 22px;
        background: rgba(10,12,18,0.50);
        border: 1px solid rgba(255,255,255,0.10);
        box-shadow: 0 18px 55px rgba(0,0,0,0.55);
        backdrop-filter: blur(16px);
        -webkit-backdrop-filter: blur(16px);
      }

      #nxHeroTitle{
        margin: 0;
        font-size: 40px;
        line-height: 1.06;
        letter-spacing: -0.03em;
        font-weight: 950;
      }

      #nxHeroTitle span{
        background: linear-gradient(90deg, rgba(220,235,255,0.98), rgba(255,255,255,0.72));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
      }

      #nxHeroDesc{
        margin-top: 10px;
        color: rgba(255,255,255,0.76);
        font-size: 14px;
        line-height: 1.55;
        font-weight: 750;
        max-width: 62ch;
      }

      #nxHeroPills{
        margin-top: 12px;
        display:flex;
        flex-wrap:wrap;
        gap:8px;
      }
      .nxPill{
        padding: 9px 11px;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.12);
        background: rgba(255,255,255,0.06);
        color: rgba(255,255,255,0.86);
        font-size: 12px;
        font-weight: 850;
        user-select:none;
        white-space: nowrap;
      }

      #nxHeroSide{
        display:grid;
        gap: 12px;
      }

      .nxCard{
        padding: 14px 14px;
        border-radius: 20px;
        background: rgba(10,12,18,0.42);
        border: 1px solid rgba(255,255,255,0.10);
        box-shadow: 0 18px 55px rgba(0,0,0,0.42);
        backdrop-filter: blur(14px);
        -webkit-backdrop-filter: blur(14px);
      }

      .nxCardTop{
        display:flex;
        align-items:center;
        justify-content:space-between;
        gap: 10px;
        margin-bottom: 8px;
      }

      .nxCardTitle{
        font-size: 12px;
        letter-spacing: .14em;
        text-transform: uppercase;
        color: rgba(255,255,255,0.70);
        font-weight: 900;
      }

      /* Premium tag badge (NOT a button) */
    .nxCardBadge{
      font-size: 11px;
      padding: 6px 10px;
      border-radius: 999px;
      font-weight: 950;
      letter-spacing: .08em;
      text-transform: uppercase;
      user-select: none;
      cursor: default;

      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.06);
      color: rgba(255,255,255,0.88);

      box-shadow:
        inset 0 0 0 1px rgba(0,0,0,0.18),
        0 10px 26px rgba(0,0,0,0.38);
    }

    /* Prototype 1: green accent */
    .nxCardBadge.p1{
      border-color: rgba(34,197,94,0.42);
      background: linear-gradient(180deg, rgba(34,197,94,0.14), rgba(34,197,94,0.06));
      color: rgba(220,255,235,0.95);
    }

    /* Prototype 2: blue/purple accent */
    .nxCardBadge.p2{
      border-color: rgba(59,130,246,0.48);
      background: linear-gradient(180deg, rgba(59,130,246,0.16), rgba(168,85,247,0.06));
      color: rgba(230,240,255,0.96);
    }


      .nxCardBody{
        color: rgba(255,255,255,0.80);
        font-size: 13px;
        line-height: 1.45;
        font-weight: 750;
      }

      .chipIcon{
        opacity:0.55;
        margin:0 4px;
        font-weight:900;
      }

      .nxDot{
        width:10px;
        height:10px;
        border-radius:999px;
        background:rgba(34,197,94,0.95);
        box-shadow:0 0 0 4px rgba(34,197,94,0.14);
        display:inline-block;
        flex:0 0 auto;
      }

      /* Prompt: collapsed pill -> expands input */
      .nxRow { align-items:center; }
      .nxPromptPill{
        flex: 1;
        display:flex;
        align-items:center;
        gap:10px;
        justify-content:flex-start;
        padding:12px 12px;
        border-radius:12px;
        border:1px solid rgba(255,255,255,0.16);
        background:rgba(255,255,255,0.07);
        color:rgba(255,255,255,0.86);
        font-weight:850;
        cursor:text; /* feels like input */
        text-align:left;
      }
      .nxPromptPill:hover{
        background:rgba(255,255,255,0.10);
        border-color:rgba(255,255,255,0.22);
      }
      .nxPromptIcon{
        width:18px;height:18px;
        display:inline-flex;
        align-items:center;justify-content:center;
        border-radius:999px;
        background:rgba(59,130,246,0.22);
        border:1px solid rgba(59,130,246,0.35);
        color:rgba(220,235,255,0.98);
        flex:0 0 auto;
      }
      .nxPromptBox{ display:none; flex:1; }
      .nxPromptBox.show{ display:block; }

      .nxPromptInput{
        width:100%;
        padding:12px 12px;
        border-radius:12px;
        border:1px solid rgba(255,255,255,0.16);
        background:rgba(255,255,255,0.07);
        color:#fff;
        outline:none;
        font-size:13.5px;
      }
      .nxPromptInput:focus{
        border-color: rgba(59,130,246,0.75);
        box-shadow: 0 0 0 4px rgba(59,130,246,0.18);
      }


      #nxFooterHint{
        position:absolute;
        left:50%;
        bottom: 16px;
        transform: translateX(-50%);
        width: min(1150px, calc(100vw - 36px));
        z-index: 3;
        display:flex;
        justify-content:space-between;
        gap: 12px;
        padding: 10px 12px;
        border-radius: 18px;
        background: rgba(10,12,18,0.38);
        border: 1px solid rgba(255,255,255,0.10);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        color: rgba(255,255,255,0.70);
        font-size: 12px;
        font-weight: 850;
      }

      @media (max-width: 900px){
        #nxHero{ grid-template-columns: 1fr; top: 56%; }
        #nxHeroTitle{ font-size: 34px; }
      }
      @media (max-width: 520px){
        #nxLogoText{ font-size: 36px; }
        #nxFooterHint{ display:none; }
      }
    </style>
  <style id="nx-clickfix">
/* --- Nexera Click Fix (canvas behind UI) --- */
#app { position: fixed; inset: 0; z-index: 0; }
#app canvas { position: fixed !important; inset: 0 !important; z-index: 0 !important; }
/* UI panels */
#ui, #nxAvatarPanel { position: fixed; z-index: 50; pointer-events: auto; }
/* If you have a landing 3D host container, keep it behind UI */
#nxLanding3D { position: fixed; inset: 0; z-index: 0; }
</style>
</head>

  <body>
    <div id="app"></div>

    <!-- LANDING -->
    <div id="nxLanding">
      <div id="nxLanding3D"></div>
      <div id="nxLandingOverlay"></div>

      <div id="nxTopbar">
        <div id="nxLogo">
          <span id="nxLogoMark"></span>
          <span id="nxLogoText" data-text="NexEra">NexEra</span>
        </div>

        <!-- NAV ONCE -->
        <div id="nxNav">
          <button class="nxBtn primary" type="button" id="nxOpenT3D">Text-to-3D</button>
          <button class="nxBtn" type="button" id="nxOpenAvatar">Avatar Demo</button>
        </div>
      </div>

      <div id="nxHero">
        <div id="nxHeroMain">
          <h1 id="nxHeroTitle"><span>Speak it. Build it. Control it.</span></h1>
          <div id="nxHeroDesc">
            NexEra showcases two real-time AI pipelines:
            rapid 3D generation from text, and natural-language control of a live avatar.
            Choose a demo above and experience it instantly.
          </div>
          <div id="nxHeroPills">
            <span class="nxPill">Text  <span class="chipIcon">Ã¢â‚¬Â¢</span> 3D </span>
            <span class="nxPill">NL  <span class="chipIcon">Ã¢â‚¬Â¢</span> Avatar </span>
            <span class="nxPill">Demo build</span>
            <span class="nxPill">Fast + stable</span>
          </div>
        </div>

        <div id="nxHeroSide">
          <div class="nxCard">
            <div class="nxCardTop">
              <div class="nxCardBadge p1">Prototype 1</div>
            </div>
            <div class="nxCardBody">Type an object prompt and generate an asset in-scene. Built for quick iterations.</div>
          </div>
          
          <div class="nxCard">
            <div class="nxCardTop">
              <div class="nxCardBadge p2">Prototype 2</div>
            </div>
            <div class="nxCardBody">Give natural commands like Ã¢â‚¬Å“wave helloÃ¢â‚¬ or Ã¢â‚¬Å“point the screenÃ¢â‚¬. One-shot actions, smooth blends.</div>
          </div>
        </div>
      </div>

      <div id="nxFooterHint">
        <span>Tip: move your mouse - the scene reacts</span>
        <span>Built to impress.</span>
      </div>
    </div>

    <div id="ui">
      <div id="headerRow">
        <div id="title">
          <span aria-hidden="true"></span>
          NexEra <span class="titleSub">Text-to-3D</span>
          <span id="badge" title="Prototype demo">Prototype 1</span>
        </div>

        <div id="headerActions">
          <button id="nxProto2Btn" type="button" class="nxBtn nxBtnPrimary">Prototype 2</button>
          <button id="helpBtn" type="button" class="secondary" style="padding:10px 12px;">Help</button>
        </div>
      </div>

      <div id="hint">
        Describe an object, then press <b>Generate</b>. The model updates in the scene.<br/>
        Try: <b>green sphere</b>, <b>duck</b>, <b>lamp</b>.
      </div>

      <div id="chips" aria-label="Examples">
        <button type="button" class="chip" data-preset="low poly red fire extinguisher">Fire extinguisher</button>
        <button type="button" class="chip" data-preset="blue sphere">Blue sphere</button>
        <button type="button" class="chip" data-preset="big green box">Green box</button>
        <button type="button" class="chip" data-preset="duck">Duck</button>
        <button type="button" class="chip" data-preset="lamp">Lamp</button>
      </div>

      <div id="row" role="search" class="nxRow">
        <button id="nxPromptOpen" type="button" class="nxPromptPill" aria-label="Open prompt">
          <span class="nxPromptIcon" aria-hidden="true">Ã¢Å“Â¦</span>
          <span class="nxPromptText">Describe an objectÃ¢â‚¬Â¦</span>
        </button>

        <div id="nxPromptBox" class="nxPromptBox" aria-hidden="true">
          <input id="prompt" class="nxPromptInput" autocomplete="off" spellcheck="false"
            placeholder='Try: "duck", "green sphere", "lamp"' />
        </div>

        <button id="run" class="primary" aria-label="Generate model">Generate</button>
      </div>


      <div id="tools" aria-label="View tools">
        <button id="resetView" type="button" class="secondary">Reset view</button>
        <button id="centerObj" type="button" class="secondary">Center object</button>
        <label title="Hold Shift and drag to reposition">
          <input id="snapGrid" type="checkbox" /> Snap to grid
        </label>
      </div>

      <div id="status" aria-live="polite">
        <span class="statusDot" id="statusDot"></span>
        <span id="statusText">Ready.</span>
      </div>

      <div id="progressWrap" class="hidden" aria-hidden="true">
        <div id="progressFill"></div>
      </div>

      <div id="nxSummary" class="nxSummary hidden" aria-live="polite"></div>
      <div id="json">{}</div>
    </div>

    <div id="toast"></div>

    <!-- ROUTING -->
<script type="module" src="/src/entry.js"></script>

    <!-- LANDING BUTTONS -->
    <script>
      (function(){
        const mode = new URLSearchParams(location.search).get("mode") || "";
        if (mode) return;

        const go = (m) => {
          const url = new URL(location.href);
          url.searchParams.set("mode", m);
          location.href = url.toString();
        };

        document.getElementById("nxOpenT3D")?.addEventListener("click", () => go("asset"));
        document.getElementById("nxOpenAvatar")?.addEventListener("click", () => go("avatar"));
      })();
    </script>

    <!-- status-dot helper (unchanged behavior) -->
    <script>
      (function(){
        const dot = document.getElementById("statusDot");
        const text = document.getElementById("statusText");
        const origSet = window.uiSetStatus;

        window.uiSetStatus = function(message){
          try{
            if (text) text.textContent = String(message || "");
            if (dot){
              dot.classList.remove("busy","err");
              const m = String(message || "").toLowerCase();
              if (m.includes("error") || m.includes("failed")) dot.classList.add("err");
              else if (m.includes("generat") || m.includes("loading") || m.includes("building")) dot.classList.add("busy");
            }
          }catch(e){}
          if (typeof origSet === "function") return origSet.apply(this, arguments);
        };
      })();
    </script>
  </body>
</html>


